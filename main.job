#!/bin/csh
#$ -M zhu4@nd.edu     # Email address for job notification
#$ -m abe               # Send mail when job begins, ends and aborts
#$ -q gpu            
#$ -l gpu_card=1
#$ -N Conv       

set dataset='PubMed'

module load python cuda/10.2


python mainPred.py train --layer=2 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --data=$dataset



echo ==============================================================================================


python mainPred.py train --layer=2 --lamb=1e-4 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --lamb=1e-4 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --lamb=1e-4 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --lamb=1e-4 --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --lamb=1e-5 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --lamb=1e-5 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --lamb=1e-5 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --lamb=1e-5 --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --lamb=1e-6 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --lamb=1e-6 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --lamb=1e-6 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --lamb=1e-6 --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --lamb=1e-7 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --lamb=1e-7 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --lamb=1e-7 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --lamb=1e-7 --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --lamb=1e-5  --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --lamb=1e-5 --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --lamb=1e-5 --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --lamb=1e-5 --norm='l2' --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --lamb=1e-6  --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --lamb=1e-6 --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --lamb=1e-6 --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --lamb=1e-6 --norm='l2' --data=$dataset

echo ==============================================================================================


python mainPred.py train --layer=2 --lamb=1e-7  --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --lamb=1e-7 --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --lamb=1e-7 --norm='l2' --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --lamb=1e-7 --norm='l2' --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --rate=0.2 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --rate=0.2 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --rate=0.2 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --rate=0.2 --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --rate=0.3 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --rate=0.3 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --rate=0.3 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --rate=0.3 --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --rate=0.4 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --rate=0.4 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --rate=0.4 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --rate=0.4 --data=$dataset


echo ==============================================================================================


python mainPred.py train --layer=2 --rate=0.5 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=8 --rate=0.5 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=16 --rate=0.5 --data=$dataset
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
echo ----------------------------------------------------------------------
python mainPred.py train --layer=32 --rate=0.5 --data=$dataset
